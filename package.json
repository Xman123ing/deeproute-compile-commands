{
  "name": "DeepRoute-Compile-Commands",
  "displayName": "DeepRoute Compile Commands",
  "description": "Execute shell commands in workspace root and monitor output in real-time. Supports remote SSH and Docker containers",
  "version": "1.0.9",
  "publisher": "your-publisher-name",
  "repository": {
    "type": "git",
    "url": "https://github.com/your-username/DeepRoute-Compile-Commands.git"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "license": "MIT",
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onView:deeprouteCommandsList"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "deeprouteCommands",
          "title": "DeepRoute Compile Commands",
          "icon": "$(terminal)"
        }
      ]
    },
    "views": {
      "deeprouteCommands": [
        {
          "id": "deeprouteCommandsList",
          "name": "Commands",
          "icon": "$(terminal)",
          "contextualTitle": "DeepRoute Compile Commands"
        }
      ]
    },
    "commands": [
      {
        "command": "deeproute-compile-commands.executeCommand",
        "title": "DeepRoute Compile Commands: Execute Predefined Command",
        "icon": "$(terminal)"
      },
      {
        "command": "deeproute-compile-commands.executeCustomCommand",
        "title": "DeepRoute Compile Commands: Execute Custom Command",
        "icon": "$(symbol-key)"
      },
      {
        "command": "deeproute-compile-commands.executeFromTree",
        "title": "Execute Command",
        "icon": "$(run)"
      },
      {
        "command": "deeproute-compile-commands.stopCommand",
        "title": "DeepRoute Compile Commands: Stop Current Command",
        "icon": "$(circle-slash)"
      },
      {
        "command": "deeproute-compile-commands.clearOutput",
        "title": "DeepRoute Compile Commands: Clear Output",
        "icon": "$(clear-all)"
      },
      {
        "command": "deeproute-compile-commands.refreshCommands",
        "title": "Refresh Command List",
        "icon": "$(sync)"
      },
      {
        "command": "deeproute-compile-commands.clearHistory",
        "title": "Clear History",
        "icon": "$(trash)"
      },
      {
        "command": "deeproute-compile-commands.addCommand",
        "title": "Add Predefined Command",
        "icon": "$(add)"
      },
      {
        "command": "deeproute-compile-commands.removeCommand",
        "title": "Remove Command",
        "icon": "$(close)"
      },
      {
        "command": "deeproute-compile-commands.editCommandAlias",
        "title": "Edit Alias",
        "icon": "$(tag)"
      },
      {
        "command": "deeproute-compile-commands.configureDocker",
        "title": "Configure Docker Container Name",
        "icon": "$(package)"
      },
      {
        "command": "deeproute-compile-commands.toggleExecuteLocally",
        "title": "Toggle Execute Locally",
        "icon": "$(desktop-download)"
      },
      {
        "command": "deeproute-compile-commands.toggleExecuteInContainer",
        "title": "Toggle Execute In Container",
        "icon": "$(package)"
      },
      {
        "command": "deeproute-compile-commands.toggleCommandExecuteLocally",
        "title": "Toggle Execute Locally",
        "icon": "$(desktop-download)"
      }
    ],
    "configuration": {
      "title": "DeepRoute Compile Commands",
      "properties": {
        "deeproute-compile-commands.predefinedCommands": {
          "type": "array",
          "default": [
            {
              "command": "ARCH_VERSION=x86_2004 CORE_NUMS=12 VEHICLE_ID=C01-PT  pipeline/package.sh",
              "alias": "build-x86_2004-C01-PT",
              "cwd": "blc"
            },
            {
              "command": "ARCH_VERSION=x86_2004 CORE_NUMS=12 pipeline/package.sh -w -t refresh_c01_compile_commands",
              "alias": "compile-commands-x86_2004-C01-PT",
              "cwd": "blc"
            },
            {
              "command": "pwd",
              "alias": "pwd",
              "cwd": "blc"
            }
          ],
          "description": "List of predefined commands. Each command can contain: command (command content), cwd (working directory), alias (display alias, optional), executeLocally (execute locally, optional, default false)"
        },
        "deeproute-compile-commands.shell": {
          "type": "string",
          "default": "",
          "description": "Specify shell to use (leave empty for system default)"
        },
        "deeproute-compile-commands.env": {
          "type": "object",
          "default": {},
          "description": "Additional environment variables when executing commands"
        },
        "deeproute-compile-commands.dockerContainerName": {
          "type": "string",
          "default": "deeproute-dev-x86-2004",
          "description": "Docker container name. All commands will execute in this container"
        },
        "deeproute-compile-commands.executeLocally": {
          "type": "boolean",
          "default": false,
          "description": "Global switch: Execute all commands locally (not in Docker container). Can be overridden by per-command settings"
        }
      }
    },
    "menus": {
      "commandPalette": [
        {
          "command": "deeproute-compile-commands.executeCommand"
        },
        {
          "command": "deeproute-compile-commands.executeCustomCommand"
        },
        {
          "command": "deeproute-compile-commands.stopCommand"
        },
        {
          "command": "deeproute-compile-commands.clearOutput"
        },
        {
          "command": "deeproute-compile-commands.executeFromTree",
          "when": "false"
        },
        {
          "command": "deeproute-compile-commands.removeCommand",
          "when": "false"
        },
        {
          "command": "deeproute-compile-commands.editCommandAlias",
          "when": "false"
        },
        {
          "command": "deeproute-compile-commands.configureDocker",
          "when": "true"
        }
      ],
      "view/title": [
        {
          "command": "deeproute-compile-commands.refreshCommands",
          "when": "view == deeprouteCommandsList",
          "group": "navigation@1"
        },
        {
          "command": "deeproute-compile-commands.stopCommand",
          "when": "view == deeprouteCommandsList",
          "group": "navigation@2"
        },
        {
          "command": "deeproute-compile-commands.clearOutput",
          "when": "view == deeprouteCommandsList",
          "group": "1_actions@1"
        },
        {
          "command": "deeproute-compile-commands.clearHistory",
          "when": "view == deeprouteCommandsList",
          "group": "1_actions@2"
        },
        {
          "command": "deeproute-compile-commands.configureDocker",
          "when": "view == deeprouteCommandsList",
          "group": "2_docker@1"
        },
        {
          "command": "deeproute-compile-commands.toggleExecuteLocally",
          "when": "view == deeprouteCommandsList && !deeproute-compile-commands.globalExecuteLocally",
          "group": "2_docker@2"
        },
        {
          "command": "deeproute-compile-commands.toggleExecuteInContainer",
          "when": "view == deeprouteCommandsList && deeproute-compile-commands.globalExecuteLocally",
          "group": "2_docker@2"
        }
      ],
      "view/item/context": [
        {
          "command": "deeproute-compile-commands.addCommand",
          "when": "view == deeprouteCommandsList && viewItem == predefinedGroup",
          "group": "inline@1"
        },
        {
          "command": "deeproute-compile-commands.executeFromTree",
          "when": "view == deeprouteCommandsList && viewItem == commandItem",
          "group": "inline@1"
        },
        {
          "command": "deeproute-compile-commands.editCommandAlias",
          "when": "view == deeprouteCommandsList && viewItem == commandItem",
          "group": "1_actions@1"
        },
        {
          "command": "deeproute-compile-commands.removeCommand",
          "when": "view == deeprouteCommandsList && viewItem == commandItem",
          "group": "1_actions@2"
        },
        {
          "command": "deeproute-compile-commands.toggleCommandExecuteLocally",
          "when": "view == deeprouteCommandsList && viewItem == commandItem && !deeproute-compile-commands.globalExecuteLocally",
          "group": "1_actions@3"
        },
        {
          "command": "deeproute-compile-commands.executeFromTree",
          "when": "view == deeprouteCommandsList && viewItem == historyItem",
          "group": "inline@1"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js"
  },
  "devDependencies": {
    "@types/node": "^20.x",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^6.x",
    "@typescript-eslint/parser": "^6.x",
    "eslint": "^8.x",
    "typescript": "^5.3.0"
  }
}
